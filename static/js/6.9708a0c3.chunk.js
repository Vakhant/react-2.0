(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[6],{292:function(e,t,n){"use strict";t.a=n.p+"static/media/avatar.acbde035.svg"},296:function(e,t,n){e.exports={user_block:"Users_user_block__3Pfvb",user_logo:"Users_user_logo__1dtIo"}},304:function(e,t,n){e.exports={selected_page:"Paginator_selected_page__1Jxiw",page_number:"Paginator_page_number__2bYsy",paginator:"Paginator_paginator__3l2cm"}},315:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(19),s=n(60),a=n(3),o=n(296),l=n.n(o),u=n(291),b=n(304),j=n.n(b),d=n(1),f=function(e){for(var t=e.pageSize,n=e.totalItemsCount,c=e.currentPage,i=e.onPageChanged,s=e.portionSize,a=void 0===s?35:s,o=Math.ceil(n/t),l=[],b=1;b<=o;b++)l.push(b);var f=Math.ceil(o/a),O=Object(r.useState)(1),g=Object(u.a)(O,2),m=g[0],p=g[1],h=(m-1)*a+1,x=m*a;return Object(d.jsxs)("div",{className:j.a.paginator,children:[m>1&&Object(d.jsx)("button",{onClick:function(){p(--m)},children:"PREV"}),l.filter((function(e){return e>=h&&e<=x})).map((function(e){return Object(d.jsx)("span",{className:j.a.page_number+" ".concat(c===e&&j.a.selected_page),onClick:function(t){return i(e)},children:e},e)})),f>m&&Object(d.jsx)("button",{onClick:function(){p(++m)},children:"NEXT"})]})},O=n(75),g=n(292),m=n(20),p=["user","unfollow","follow","followingInProgress"],h=function(e){var t=e.user,n=e.unfollow,r=e.follow,c=e.followingInProgress;Object(O.a)(e,p);return Object(d.jsxs)("div",{className:l.a.user_block,children:[Object(d.jsx)("div",{className:l.a.user_logo,children:Object(d.jsx)(m.b,{to:"/profile/"+t.id,children:Object(d.jsx)("img",{src:null!=t.photos.small?t.photos.small:g.a,alt:""})})}),Object(d.jsx)("div",{className:"user_full_name",children:t.name}),Object(d.jsx)("div",{className:"user_status",children:t.status}),t.followed?Object(d.jsx)("button",{disabled:c.some((function(e){return e===t.id})),onClick:function(){n(t.id)},children:"unfollow"}):Object(d.jsx)("button",{disabled:c.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:"follow"})]},t.id)},x=n(311),_=function(e){return e.usersPage.users},v=function(e){return e.usersPage.pageSize},P=function(e){return e.usersPage.totalUsersCount},w=function(e){return e.usersPage.currentPage},k=function(e){return e.usersPage.isFetching},C=function(e){return e.usersPage.followingInProgress},S=function(e){return e.usersPage.filter},N=function(e){return{}},y=c.a.memo((function(e){var t=Object(i.d)(S);return Object(d.jsx)("div",{children:Object(d.jsx)(x.c,{enableReinitialize:!0,initialValues:{term:t.term,friend:String(t.friend)},validate:N,onSubmit:function(t,n){var r=n.setSubmitting,c={term:t.term,friend:"null"===t.friend?null:"true"===t.friend};e.onFillterChanged(c),r(!1)},children:function(e){var t=e.isSubmitting;return Object(d.jsxs)(x.b,{children:[Object(d.jsx)(x.a,{type:"text",name:"term"}),Object(d.jsxs)(x.a,{as:"select",name:"friend",children:[Object(d.jsx)("option",{value:"null",children:"All"}),Object(d.jsx)("option",{value:"true",children:"Only followed"}),Object(d.jsx)("option",{value:"false",children:"Only unfollowed"})]}),Object(d.jsx)("button",{type:"submit",disabled:t,children:"Find"})]})}})})})),I=n(128),z=n(11),F=function(e){var t=Object(i.d)(_),c=Object(i.d)(v),s=Object(i.d)(P),o=Object(i.d)(w),u=(Object(i.d)(k),Object(i.d)(C)),b=Object(i.d)(S),j=Object(i.c)(),O=Object(z.g)();Object(r.useEffect)((function(){var e=n(308).parse(O.location.search.substr(1)),t=o,r=b;switch(e.page&&(t=Number(e.page)),e.term&&(r=Object(a.a)(Object(a.a)({},r),{},{term:e.term})),e.friend){case"null":r=Object(a.a)(Object(a.a)({},r),{},{friend:null});break;case"true":r=Object(a.a)(Object(a.a)({},r),{},{friend:!0});break;case"false":r=Object(a.a)(Object(a.a)({},r),{},{friend:!1})}j(Object(I.b)(t,c,r))}),[]),Object(r.useEffect)((function(){var e={};b.term&&(e.term=b.term),null!==b.friend&&(e.friend=String(b.friend)),1!==o&&(e.page=String(o)),O.push({pathname:"/users",search:"?term=".concat(b.term,"&friend=").concat(b.friend,"&page=").concat(o)})}),[b,o]);var g=function(e){j(Object(I.c)(e))},m=function(e){j(Object(I.a)(e))};return Object(d.jsxs)("div",{className:l.a.user_list,children:[Object(d.jsx)(y,{onFillterChanged:function(e){console.log(e),j(Object(I.b)(1,c,e))}}),Object(d.jsx)(f,{currentPage:o,onPageChanged:function(e){j(Object(I.b)(e,c,b))},totalItemsCount:s,pageSize:c}),Object(d.jsx)("div",{children:t.map((function(e){return Object(d.jsx)(h,{follow:m,unfollow:g,followingInProgress:u,user:e},e.id)}))})]})};t.default=function(e){var t=Object(i.d)(k);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:e.pageTitle}),t?Object(d.jsx)(s.a,{}):null,Object(d.jsx)(F,{})]})}}}]);
//# sourceMappingURL=6.9708a0c3.chunk.js.map